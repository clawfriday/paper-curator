{
  "paper_summary": {
    "id": "paper_summary_v3",
    "description": "Concise single-query summary with bold key findings",
    "template": "You are summarizing an AI paper. Produce a concise summary with these sections:\n\n**Concrete Method:** What it does as logical steps. Plain language, no figurative speech.\n\n**Main Benefit Area:** Which area it improves (model performance / training efficiency / inference throughput / etc.).\n\n**Rationale:** Why this method provides the benefit. 1-2 sentences.\n\n**Quantifiable Results:** Key metrics with **bold numbers** (e.g., \"improves accuracy by **2.5%**\", \"reduces latency by **3x**\").\n\nRules:\n- Be concise. No filler phrases like \"In this paper, we...\" or \"The authors propose...\".\n- Bold ONLY the key numerical values and parameters, not full sentences.\n- Use \\( \\) for inline math formulas.\n- No duplication across sections."
  },
  "extract_components": {
    "id": "extract_components_v1",
    "description": "Extract key components/concepts from a paper",
    "template": "You are analyzing an AI research paper. Identify the key technical components, methods, or concepts introduced or used in this paper.\n\nFor example, DeepSeek-V3 has: MLA (Multi-head Latent Attention), MTP (Multi-Token Prediction), fine-grained FP8 training, DualPipe parallelism.\n\nRules:\n- List only distinct technical contributions or methods\n- Use the abbreviation if well-known (e.g., \"MLA\" not \"Multi-head Latent Attention\")\n- Include 1-5 components (fewer for simple papers, more for comprehensive ones)\n- Each component should be a specific technique, not a general concept\n\nRespond with a JSON array of component names, e.g.: [\"MLA\", \"MTP\", \"FP8 Training\", \"DualPipe\"]\nIf the paper has only one main contribution, return a single-element array.\nRespond with ONLY the JSON array, nothing else.",
    "variables": []
  },
  "component_steps": {
    "id": "component_steps_v2",
    "description": "Describe the logical steps for a component with math notation",
    "template": "Describe the logical steps for this component/method from the paper.\n\nComponent: {component}\n\nRules:\n- Use numbered steps (1., 2., 3., etc.)\n- Plain language, no figurative speech\n- Use \\( \\) for inline math formulas (e.g., \\( \\eta_{{\\text{{peak}}}} \\))\n- Bold key parameters with **value** (e.g., **batch size 4096**)\n- Be concise: 3-7 steps\n- No preamble, start directly with step 1",
    "variables": ["component"]
  },
  "component_benefits": {
    "id": "component_benefits_v2",
    "description": "Identify the main benefit area with bold key terms",
    "template": "What area does this component/method benefit?\n\nComponent: {component}\n\nCategories: Model performance | Training efficiency | Inference throughput | Scalability | Memory efficiency | Other\n\nRules:\n- 1-2 sentences only\n- Bold the benefit category (e.g., **training efficiency**)\n- No preamble, state the benefit directly",
    "variables": ["component"]
  },
  "component_rationale": {
    "id": "component_rationale_v2",
    "description": "Explain why a component works",
    "template": "Explain WHY this component provides its benefits.\n\nComponent: {component}\n\nRules:\n- Focus on the underlying insight or mechanism\n- 2-3 sentences\n- No preamble, explain directly\n- Use \\( \\) for math if needed",
    "variables": ["component"]
  },
  "component_results": {
    "id": "component_results_v2",
    "description": "Extract quantifiable results with bold metrics",
    "template": "What are the quantifiable results for this component?\n\nComponent: {component}\n\nRules:\n- Bold all numerical values (e.g., **+2.5%**, **3x faster**, **1.68% improvement**)\n- Use bullet points (- item)\n- Include baseline comparisons when available\n- If no metrics, state \"No specific metrics reported\"\n- No preamble, start with results directly",
    "variables": ["component"]
  },
  "node_naming": {
    "id": "node_naming_v1",
    "description": "Generate a distinguishing name for a tree node based on its children and siblings",
    "template": "You are naming a category node in a research paper taxonomy tree.\n\nGiven the summaries/names of children nodes under this category, and the summaries/names of sibling categories (other categories at the same level), generate a concise, descriptive name (2-5 words) that:\n1. Captures what distinguishes this group of children from the siblings\n2. Is specific enough to be meaningful\n3. Uses standard AI research terminology when possible\n\nRules:\n- Return a noun phrase (not a sentence)\n- Avoid generic phrases like \"What It Does\", \"Overview\", \"General\", \"Miscellaneous\", or \"Summary\"\n- Do not include punctuation, markdown, or parentheses\n\nChildren under this category:\n{children_summaries}\n\nSibling categories (for contrast):\n{sibling_summaries}\n\nRespond with ONLY the category name (2-5 words), nothing else.",
    "variables": ["children_summaries", "sibling_summaries"]
  },
  "classify": {
    "id": "classify_v1",
    "description": "Classify a paper into a category",
    "template": "You are a research paper classifier. Given a paper's title and abstract, determine the most appropriate category for it.\n\nPrimary AI research categories:\n- Model Architecture (transformer variants, attention mechanisms, novel neural network designs)\n- Training Efficiency (optimization, distributed training, memory efficiency)\n- Inference Optimization (quantization, pruning, distillation, serving)\n- Reinforcement Learning (RL algorithms, RLHF, reward modeling)\n- Vision (image classification, object detection, segmentation, generation)\n- Speech (ASR, TTS, audio processing)\n- Natural Language Processing (text understanding, generation, translation)\n- Multimodal (vision-language, audio-visual, cross-modal)\n- Datasets & Benchmarks (new datasets, evaluation frameworks)\n- Applications (specific use cases, deployments)\n\nExisting categories in the tree: {existing_categories}\n\nInstructions:\n1. If the paper fits well into an existing category, use that exact category name.\n2. If it doesn't fit existing categories, suggest the most appropriate category from the primary list.\n3. If it's a very specific sub-topic and there are already many papers in a category, suggest a more specific sub-category.\n\nPaper Title: {title}\n\nPaper Abstract: {abstract}\n\nRespond with ONLY the category name, nothing else. Do not include explanations or punctuation.",
    "variables": ["existing_categories", "title", "abstract"]
  },
  "abbreviate": {
    "id": "abbreviate_v2",
    "description": "Generate a short abbreviation for a paper title",
    "template": "Generate a short, memorable abbreviation for this research paper title.\n\nRules:\n- Use the well-known abbreviation if one exists (e.g., \"GPT-4\", \"BERT\", \"ViT\", \"CLIP\")\n- If no well-known abbreviation exists, create a short one (max 15 chars)\n- Use acronyms, key terms, or author-style names (e.g., \"DeepSeek-R1\", \"DAPO\", \"LLaMA\")\n- ALWAYS preserve version numbers exactly as written (e.g., \"V3\", \"V3.1\", \"v2\", \"4o\") to distinguish between different versions\n- For technical reports, include the model name and version (e.g., \"DeepSeek-V3\" not just \"DeepSeek\")\n\nPaper title: {title}\n\nRespond with ONLY the abbreviation, nothing else.",
    "variables": ["title"]
  },
  "explain_reference": {
    "id": "explain_reference_v1",
    "description": "Explain how a cited paper relates to the source paper",
    "template": "You are a research paper analyst. Explain how a cited paper relates to the source paper.\n\nSource paper: {source_title}\nCited paper: {cited_title}\n{context_section}\n\nProvide a concise 2-3 sentence explanation of:\n1. What the cited paper is about\n2. How it relates to or contributes to the source paper\n\nBe specific and technical but accessible.",
    "variables": ["source_title", "cited_title", "context_section"]
  },
  "merge_qa_to_summary": {
    "id": "merge_qa_v1",
    "description": "Merge Q&A content into existing summary sections",
    "template": "You are merging Q&A content into an existing paper summary.\n\nCurrent Summary:\n{current_summary}\n\nNew Q&A to integrate:\n{qa_content}\n\nInstructions:\n1. Read the current summary structure carefully\n2. For each Q&A pair, identify where the information best fits in the summary\n3. Integrate the new information naturally into the relevant sections\n4. If information already exists, enhance it with additional details from Q&A\n5. If information is truly new, add it to the most relevant section\n6. Preserve the overall structure and formatting of the summary\n7. Do NOT add duplicate information\n\nRespond with the updated summary only, maintaining the same markdown format.",
    "variables": ["current_summary", "qa_content"]
  },
  "dedup_summary": {
    "id": "dedup_summary_v1",
    "description": "Remove duplicated content from a summary",
    "template": "You are cleaning up a paper summary to remove duplicated content.\n\nCurrent Summary:\n{summary}\n\nInstructions:\n1. Identify any duplicated or redundant information across sections\n2. Keep the most detailed/accurate version of duplicated content\n3. Remove the less detailed duplicates\n4. Merge related points that are scattered across sections\n5. Preserve the overall structure and formatting\n6. Ensure each piece of information appears only once in the most relevant section\n\nRespond with the deduplicated summary only, maintaining the same markdown format. If no duplicates found, return the summary unchanged.",
    "variables": ["summary"]
  }
}
